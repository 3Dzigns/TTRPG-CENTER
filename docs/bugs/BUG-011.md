# BUG-011: Query Interface 404 Error on Source Retrieval

**Summary:**  
When a user enters a query (`What sources do you have?`) and clicks **Execute Query**, the system returns **HTTP 404: Not Found**. The error is displayed in the **Response Output** panel with a timestamp.  

**Impact:**  
- User cannot retrieve available sources, breaking a core requirement from Phase 2 (**RAG Retrieval**) and Phase 4 (**Admin UI dictionary/source visibility**).  
- Reduces trust in the system since even a basic query fails.  
- Prevents validation of source availability through the User UI.  

**Steps to Reproduce:**  
1. Navigate to **Query Interface**.  
2. Enter the query: `What sources do you have?`  
3. Click **Execute Query**.  
4. Observe error in Response Output:  
   - `Failed to process query: HTTP 404: Not Found`.  

**Expected Result:**  
- System should return a structured list of available sources (e.g., PDFs ingested, dictionary entries, or DB metadata).  
- Response should match provenance requirements (Phase 2: `RAG-VIEW` with metadata).  

**Actual Result:**  
- Error displayed: `Failed to process query: HTTP 404: Not Found`.  
- No results returned.  

**Root Cause (Suspected):**  
- Backend endpoint for “list sources” is missing, misconfigured, or not exposed.  
- Frontend pointing to incorrect API route (`/sources`, `/status/sources`, or `/ask` misrouted).  
- Could also occur if environment isolation (Phase 0) prevents UI from reaching the correct backend service.  

**Fix Recommendation:**  
- Verify API route exists for retrieving sources.  
- Update frontend query router to call correct backend endpoint.  
- Add fallback: if endpoint missing, return “No sources currently available” instead of raw 404.  
- Ensure Admin UI (Phase 4, ADM-003) and User UI (Phase 5, US-502/503) share same source retrieval service.  

**Tests:**  
- **Unit:** API `/sources` endpoint responds 200 with mock DB entries.  
- **Functional:** User runs “What sources do you have?” → returns list of sources.  
- **Regression:** Retest queries still succeed with provenance metadata.  
- **Security:** Ensure source listing cannot expose unauthorized DBs (multi-tenant safe).  
