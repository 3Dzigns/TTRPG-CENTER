# BUG-022: Add preflight for Poppler/Tesseract (fail fast for image-only PDFs)


## Summary
Image-only PDFs require **Poppler** (pdfinfo/pdftoppm) and **Tesseract**. We must fail fast if these tools are missing or not on PATH.

## Impact
Without preflight, jobs reach Pass C and fail mid-run, wasting time.

## Fix
- Add a **Phase 0/1 pre-ingestion check** that asserts versions:
  - `pdfinfo -v` and `pdftoppm -v`
  - `tesseract --version`
- If missing, exit with a clear message and remediation steps.

## Acceptance Criteria (User Stories)
**US-022A (Ops)**: As an operator, running `ingest:preflight` reports tool versions and OK status.
**US-022B (Dev)**: As a developer, CI/dev shells without the tools fail immediately with actionable guidance.

## Test Cases
**Unit**
- Mock PATH without tools → preflight returns non-zero and logs remediation.
- Mock PATH with tools → preflight returns zero with versions.

**Functional**
- Run preflight on build agents and local → outputs versions and passes.
